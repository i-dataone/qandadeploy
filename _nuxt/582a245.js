(window.webpackJsonp=window.webpackJsonp||[]).push([[27,5,8],{604:function(t,e,n){var content=n(611);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("86d06398",content,!0,{sourceMap:!1})},607:function(t,e,n){t.exports=n.p+"img/default.25e8839.jpg"},608:function(t,e,n){var content=n(623);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("714b66bb",content,!0,{sourceMap:!1})},609:function(t,e,n){var content=n(625);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("400887e0",content,!0,{sourceMap:!1})},610:function(t,e,n){"use strict";n(604)},611:function(t,e,n){var r=n(11)(!1);r.push([t.i,".comment-wrapper[data-v-2cfb8798]{min-width:0;flex-basis:0;padding:6px 6px 6px 10px;font-size:15px;line-height:1.4}",""]),t.exports=r},614:function(t,e,n){"use strict";n(31),n(65);var r=n(640);e.a={math:function(text){return text.replace(/\$\$([^]*?)\$\$/g,(function(t,e){return r.renderToString(e,{displayMode:!0})})).replace(/\$([^]*?)\$/g,(function(t,e){return r.renderToString(e,{displayMode:!1})}))}}},615:function(t,e,n){t.exports=n.p+"img/question_background.4fce8ec.jpeg"},616:function(t,e,n){"use strict";n.r(e);n(58);var r=n(4),o={props:["comment"],methods:{deleteComment:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.comment.questionId,r=t.comment.id,e.prev=2,e.next=5,t.$store.dispatch("deleteComment",{questionId:n,commentId:r});case 5:t.$emit("delete",r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))()}}},c=(n(610),n(72)),d=n(122),m=n.n(d),l=n(332),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-wrapper"},[n("span",[t._v("\n    "+t._s(t.comment.content)+" ー"),n("a",{attrs:{href:""}},[t._v(" "+t._s(t.comment.userName))]),t._v(" "),t.comment.userId===this.$store.state.id?n("v-btn",{attrs:{color:"red","x-small":"",text:""},on:{click:function(e){return t.deleteComment()}}},[t._v("削除する")]):t._e()],1)])}),[],!1,null,"2cfb8798",null);e.default=component.exports;m()(component,{VBtn:l.a})},622:function(t,e,n){"use strict";n(608)},623:function(t,e,n){var r=n(11)(!1);r.push([t.i,".comments[data-v-631198d2]{background:hsla(0,0%,100%,.5)}",""]),t.exports=r},624:function(t,e,n){"use strict";n(609)},625:function(t,e,n){var r=n(11),o=n(209),c=n(615),d=r(!1),m=o(c);d.push([t.i,".answer-container[data-v-3929b1a4]{background-image:radial-gradient(rgba(253,233,209,.5),rgba(195,161,116,.5)),url("+m+");background-size:cover,cover;border:1px solid #806241;margin:10px;padding:10px;color:#5c432d}.answer-content[data-v-3929b1a4] pre{padding:5px;margin-left:20px;background-color:rgba(0,0,0,.4);color:#fff;width:80%}.answer-content[data-v-3929b1a4]{font-size:15px}.answer-content[data-v-3929b1a4] *{margin-bottom:10px}.answer-content[data-v-3929b1a4] h1{margin-top:20px;font-size:25px}.answer-content[data-v-3929b1a4] h2,.answer-content[data-v-3929b1a4] h3{margin-top:20px;font-size:20px}.user-info[data-v-3929b1a4]{display:flex}.right[data-v-3929b1a4]{margin-left:auto}",""]),t.exports=d},627:function(t,e,n){"use strict";n.r(e);n(58);var r=n(4),o={props:["comments","questionId","id"],data:function(){return{commentContent:""}},methods:{createComment:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("createComment",{questionId:e.questionId,targetId:t,content:e.commentContent});case 2:e.$emit("updateComment"),e.commentContent="";case 4:case"end":return n.stop()}}),n)})))()}}},c=(n(622),n(72)),d=n(122),m=n.n(d),l=n(332),v=n(574),f=n(641),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comments"},[n("ul",[n("v-divider"),t._v(" "),t._l(t.comments,(function(e){return n("comment",{key:e.id,attrs:{comment:e},on:{delete:function(e){return t.$emit("delete")}}})}))],2),t._v(" "),1==t.$store.state.isLoggedIn?n("div",[n("v-textarea",{staticClass:"disabled-link",attrs:{outlined:"","hide-details":"auto",rows:"2",name:"input-7-4",label:"コメントを追加",value:""},model:{value:t.commentContent,callback:function(e){t.commentContent=e},expression:"commentContent"}}),t._v(" "),n("div",{staticStyle:{"text-align":"right"},attrs:{cols:"12"}},[n("v-btn",{on:{click:function(e){return t.createComment(t.id)}}},[t._v("コメントする")])],1)],1):t._e()])}),[],!1,null,"631198d2",null);e.default=component.exports;m()(component,{Comment:n(616).default}),m()(component,{VBtn:l.a,VDivider:v.a,VTextarea:f.a})},632:function(t,e,n){"use strict";n.r(e);n(58);var r=n(4),o=n(630),c=n.n(o),d=n(614),m={props:{answer:Object,questionId:String},data:function(){return{value:"",commentContent:"",comments:this.answer.comments,coin:0}},mounted:function(){var t;try{t=c()(d.a.math(this.answer.content))}catch(e){t="エラー: ".concat(e)}this.$refs.content.innerHTML=t},computed:{content:function(){var content=this.answer.content;return content}},methods:{convertDate:function(t){return new Date(1e3*t)},sendCoins:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var data,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return data={sendUser:t.answer.answered_by,questions:"TODO 後で書き換える",value:t.coin},n=t.$store.getters.privateAPIConf,e.next=4,t.$axios.post("./private/questions/fee",data,n);case 4:t.coin=0;case 5:case"end":return e.stop()}}),e)})))()}}},l=(n(624),n(72)),v=n(122),f=n.n(v),h=n(574),component=Object(l.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"answer"},[r("div",{staticClass:"answer-container"},[r("div",{ref:"content",staticClass:"answer-content"}),t._v(" "),r("v-divider"),t._v(" "),r("div",{staticClass:"user-info"},[r("div",{staticClass:"post-dt"},[t._v("回答日時:"+t._s(t.convertDate(t.answer._ts).toLocaleString()))]),t._v(" "),r("div",{staticClass:"right"},[r("p",[t._v("回答者:"),r("nuxt-link",{attrs:{to:{name:"users-id",params:{id:t.answer.userId}}}},[t._v(t._s(t.answer.userName))])],1),t._v(" "),""==t.answer.imageURL?r("img",{attrs:{width:"36px",height:"36px",src:n(607)}}):r("img",{attrs:{src:t.answer.imageURL,width:"36px",height:"36px"}})])])],1)])}),[],!1,null,"3929b1a4",null);e.default=component.exports;f()(component,{VDivider:h.a})},656:function(t,e,n){var content=n(708);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("6eca53a1",content,!0,{sourceMap:!1})},664:function(t,e,n){"use strict";n.r(e);n(73),n(58);var r=n(4),o={props:["questionId","comments"],data:function(){return{answers:[],isLoading:!0}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,t.$store.dispatch("getAnswersByQuestionId",t.questionId);case 4:t.answers=e.sent,t.$emit("mounted",t.answers.length),console.log(t.answers),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,t.isLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()},methods:{getCommentsTo:function(t){return this.comments.filter((function(e){return e.targetId===t}))},updateComment:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("getCommentsByQuestionId",t.questionId);case 2:t.comments=e.sent;case 3:case"end":return e.stop()}}),e)})))()}}},c=n(72),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?n("div",[t._v("回答読み込み中...")]):n("div",[t._l(t.answers,(function(e){return[n("answer",{key:e.id+"1",attrs:{"question-id":t.questionId,answer:e}}),t._v(" "),n("comments",{key:e.id+"2",attrs:{comments:t.getCommentsTo(e.id),questionId:t.questionId,id:e.id},on:{updateComment:t.updateComment,delete:t.updateComment}})]}))],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Answer:n(632).default,Comments:n(627).default})},707:function(t,e,n){"use strict";n(656)},708:function(t,e,n){var r=n(11),o=n(209),c=n(615),d=r(!1),m=o(c);d.push([t.i,".question[data-v-13cb163e]{color:#000;max-width:800px;margin-top:30px}.question-container[data-v-13cb163e]{background-image:radial-gradient(rgba(253,233,209,.5),rgba(195,161,116,.5)),url("+m+");background-size:cover,cover;box-shadow:0 0 0 2px #806241,0 0 0 6px #e2c8a4,0 0 0 10px #806241;margin:10px;padding:10px;color:#5c432d}.container a[data-v-13cb163e]{text-decoration:none}.question-info[data-v-13cb163e]{margin-top:10px;display:flex}.unanswered[data-v-13cb163e]{text-align:center;margin:30px auto}.question-content h2[data-v-13cb163e]{font-size:18px;margin-bottom:5px}.user-info[data-v-13cb163e]{width:200px;padding:5px 10px}.user-info a[data-v-13cb163e],.user-info p[data-v-13cb163e]{font-size:12px}.user-info p[data-v-13cb163e]{margin:0;display:inline-block}.post-signature-owner[data-v-13cb163e]{background-color:rgba(64,162,234,.05098)}.answer-number[data-v-13cb163e]{font-size:18px;font-weight:400;text-align:left;margin:0}.post-login-title a[data-v-13cb163e]{text-decoration:none}pre[data-v-13cb163e]{background-color:#2b2b2b;padding:8px;width:auto;overflow:auto}.mavonEditor[data-v-13cb163e]{border:1px solid grey;width:100%}.markdown-editor[data-v-13cb163e]{width:100%;height:100%}.markdown-body[data-v-13cb163e]{max-height:300px}.input-fee[data-v-13cb163e]{padding:10px 15px;font-size:16px;border-radius:3px;border:1px solid grey;max-width:100%}.label[data-v-13cb163e]{margin:0}.question-content[data-v-13cb163e] pre{padding:5px;margin-left:20px;background-color:rgba(0,0,0,.4);color:#fff;width:80%}.question-content[data-v-13cb163e]{font-size:15px;width:100%;word-break:break-all;min-height:200px}.question-content[data-v-13cb163e] *{margin-bottom:10px}.question-content[data-v-13cb163e] h1{margin-top:20px;font-size:25px}.question-content[data-v-13cb163e] h2,.question-content[data-v-13cb163e] h3{margin-top:20px;font-size:20px}.iraisya[data-v-13cb163e]{margin-left:auto}.progress[data-v-13cb163e]{text-align:center}.investment[data-v-13cb163e]{background-color:hsla(0,0%,100%,.7);width:200px;margin:20px auto;padding:5px;border:1px solid #000}.syussigaku[data-v-13cb163e]{width:100px}",""]),t.exports=d},748:function(t,e,n){"use strict";n.r(e);n(73),n(26),n(58);var r=n(4),o=n(630),c=n.n(o),d=n(704),m=n.n(d),l=n(614),v={asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.route.params.id,e.next=3,t.store.dispatch("getQuestionById",n);case 3:return r=e.sent,e.abrupt("return",{question:r,id:n});case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=c()(l.a.math(t.question.content))}catch(t){n="エラー: ".concat(t)}return t.$refs.content.innerHTML=n,e.prev=2,t.isLoadingComments=!0,e.next=6,t.$store.dispatch("getCommentsByQuestionId",t.id);case 6:t.comments=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:return e.prev=12,t.isLoadingComments=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})))()},data:function(){return{question:"",answers:[],comments:[],content:"",commentContent:"",checkUser:!1,checkCost:!1,viewAnswerBtn:!1,paymentDialog:!1,answerKey:!0,isDisabled:!1,isLoading:!1,markdownOption:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0},isLoadingComments:!1,housyu:""}},created:function(){c.a.setOptions({langPrefix:"",highlight:function(code,t){return m.a.highlightAuto(code,[t]).value}})},methods:{getCommentsTo:function(t){return this.comments.filter((function(e){return e.targetId===t}))},createAnswer:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,t.isDisabled=!0,n=t.question.id,e.next=6,t.$store.dispatch("createAnswer",{content:t.content,id:n,imageURL:t.$store.getters.getImageURL});case 6:return e.sent,e.next=9,t.$store.dispatch("getQuestionById",n);case 9:t.question=e.sent,t.content="",t.answerKey=!t.answerKey,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log("error: ".concat(e.t0));case 17:return e.prev=17,t.isDisabled=!1,t.isLoading=!1,e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[0,14,17,21]])})))()},convertDate:function(t){return new Date(1e3*t)},paymentCost:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$store.getters.privateAPIConf,data={value:t.question.cost,question:t.question,userId:t.$store.state.id},e.next=4,t.$axios.post("./qandaprivateapi/questions/cost",data,n);case 4:200===(r=e.sent).status?(t.question.costList=r.data,t.getAnswers(),t.paymentDialog=!1):alert("コインなどを確認してください。");case 6:case"end":return e.stop()}}),e)})))()},cancel:function(){this.paymentDialog=!1},updateComment:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$route.params.id,e.next=3,t.$store.dispatch("getCommentsByQuestionId",n);case 3:t.comments=e.sent;case 4:case"end":return e.stop()}}),e)})))()},follow:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("followQuestion",t.question.id);case 2:return e.next=4,t.$store.dispatch("getQuestionById",t.question.id);case 4:t.question=e.sent;case 5:case"end":return e.stop()}}),e)})))()},unfollow:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("unfollowQuestion",t.question.id);case 2:return e.next=4,t.$store.dispatch("getQuestionById",t.question.id);case 4:t.question=e.sent;case 5:case"end":return e.stop()}}),e)})))()},invest:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("invest",{questionId:t.question.id,housyu:Number(t.housyu)});case 3:t.$store.commit("setCoins",t.$store.getters.getCoins-t.housyu),t.question.housyu+=Number(t.housyu),t.housyu=0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},computed:{imageURL:function(){return this.question.imageURL?this.question.imageURL:""}}},f=(n(705),n(707),n(72)),h=n(122),x=n.n(h),w=n(332),_=n(574),C=n(199),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"question"},[r("div",{staticClass:"question-container"},[r("h1",{staticClass:"question-title"},[t._v("\n      "+t._s(t.question.title)+"\n    ")]),t._v(" "),r("p",[t._v(t._s(t.$store.getters.getCategoryById(t.question.category).name))]),t._v(" "),r("v-divider"),t._v(" "),r("div",{ref:"content",staticClass:"question-content"},[r("div",{staticClass:"progress"},[r("v-progress-circular",{attrs:{indeterminate:""}})],1)]),t._v(" "),r("v-divider"),t._v(" "),r("div",{staticClass:"question-info"},[r("div",[r("p",[t._v("報酬: 🪙"+t._s(t.question.housyu))]),t._v(" "),r("p",[t._v("質問日時:"+t._s(t.convertDate(t.question._ts).toLocaleString()))]),t._v(" "),t.$store.getters.getIsLoggedIn?[r("div",[-1==t.question.followers.indexOf(t.$store.getters.getId)?r("v-btn",{attrs:{text:"",small:""},on:{click:t.follow}},[t._v("フォロー")]):r("v-btn",{attrs:{text:"",small:""},on:{click:t.unfollow}},[t._v("フォローを外す")])],1)]:t._e()],2),t._v(" "),r("div",{staticClass:"iraisya"},[r("p",{staticClass:"label"},[t._v("依頼者: "),r("nuxt-link",{attrs:{to:{name:"users-id",params:{id:t.question.userId}}}},[t._v(t._s(t.question.userName))])],1),t._v(" "),""==t.imageURL?r("img",{attrs:{src:n(607),width:"36px",height:"36px"}}):r("img",{attrs:{src:t.imageURL,width:"36px",height:"36px"}})])])],1),t._v(" "),r("div",{staticClass:"investment"},[r("p",[t._v("出資する")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.housyu,expression:"housyu"}],staticClass:"syussigaku",attrs:{type:"number",placeholder:"コイン数"},domProps:{value:t.housyu},on:{input:function(e){e.target.composing||(t.housyu=e.target.value)}}}),t._v(" "),r("v-btn",{on:{click:t.invest}},[t._v("出資")])],1),t._v(" "),t.isLoadingComments?r("div",[t._v("コメント読み込み中...")]):r("comments",{attrs:{comments:t.getCommentsTo(t.question.id),questionId:t.question.id,id:t.question.id},on:{updateComment:t.updateComment,delete:t.updateComment}}),t._v(" "),t.question.answerCount>0?[r("h2",{staticClass:"answer-number d-inline-block"},[t._v(t._s(t.question.answerCount)+"件の回答")]),t._v(" "),"normal"!==t.$store.getters.getLoginProcess?r("div",[r("div",{staticClass:"progress"},[r("v-progress-circular",{attrs:{indeterminate:""}})],1)]):t.$store.getters.getIsLoggedIn?r("div",[r("answers",{key:t.answerKey,attrs:{questionId:t.id,comments:t.comments}}),t._v(" "),r("div",{staticClass:"answer-form"},[r("p",[t._v("回答する")]),t._v(" "),r("div",{staticClass:"mavonEditor"},[r("no-ssr",[r("mavon-editor",{attrs:{toolbars:t.markdownOption,language:"ja",placeholder:"質問内容"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1),t._v(" "),r("div",{staticStyle:{"text-align":"right"}},[r("v-btn",{attrs:{disabled:t.isDisabled},on:{click:function(e){return t.createAnswer()}}},[t._v("送信")]),t._v(" "),t.isLoading?r("v-progress-circular",{attrs:{indeterminate:""}}):t._e()],1)])],1):r("div",[r("p",[t._v("回答を見たり投稿したりするにはログインが必要です。")])])]:t._e()],2)}),[],!1,null,"13cb163e",null);e.default=component.exports;x()(component,{Comments:n(627).default,Answers:n(664).default}),x()(component,{VBtn:w.a,VDivider:_.a,VProgressCircular:C.a})}}]);